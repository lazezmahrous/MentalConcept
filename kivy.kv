ScreenManager:
    id:m
    MDScreen:
        name: "Firistwindow"
        MDFloatLayout:
            md_bg_color: 1,1,1,1
            Image:
                id:gif
                source:'image/login.png'
                size_hint: 0.8, 0.8
                pos_hint: {'center_x': 0.5,'center_y': 0.6}
            Image:
                source:'image/loof.gif'
                size_hint: 0.1, 0.1
                pos_hint: {'center_x': 0.5,'center_y': 0.1}
                anim_loop: 3
                anim_delay: 0.03
    MDScreen:
        name:"Secondwindow"
        MDCard:
            elevation: 1
            border_radius: 30
            pos_hint: {'center_x': 0.5, 'center_y': .04}
            size_hint: None, None
            size: (dp(400), dp(50))
            radius: [25, 25, 0, 0]
            md_bg_color: "#F9D949"
            shadow_radius: 20
            shadow_softness: 20
            shadow_offset: -12, -12
            shadow_color:"#F9D949"
            MDFloatLayout:
                MDFillRoundFlatIconButton:
                    icon:"play"
                    md_bg_color: "#F45050"
                    pos_hint: {'center_x': 0.2,'center_y': 0.9}
                    icon_size:30
                    theme_text_color:"Custom"
                    text:"Start"
                    text_color:"#F0F0F0"
                    line_color: "#F0F0F0"
                    icon_color:"#F0F0F0"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.2
                    line_height: .8
                    on_release:app.start_counting()
        MDCard:
            elevation: 2
            border_radius: 30
            pos_hint: {'center_x': 0.5, 'center_y': 0.46}
            size_hint: None, None
            size: (dp(400), dp(360))
            radius: [25, 25, 25, 25]
            md_bg_color: "#ffffff"
            shadow_radius: 20
            shadow_softness: 24
            shadow_offset: 12, 12
            shadow_color:"#ffffff"
        MDFloatLayout:
            MDLabel:
                text:"Flash Timing"
                font_size: 18
                size_hint_x:.9
                line_height: .8
                pos_hint: {'center_x': 0.5,'center_y': .52}
                font_name: "Poppins-SemiBold.ttf"
            MDIcon:
                icon:"clock-fast"
                pos_hint: {'center_x': 0.4,'center_y': 0.52}
            MDLabel:
                text:"Number Of Digits"
                font_size: 18
                size_hint_x:.9
                line_height: .8
                pos_hint: {'center_x': 0.5,'center_y': .42}
                font_name: "Poppins-SemiBold.ttf"
            MDIcon:
                icon:"counter"
                pos_hint: {'center_x': 0.49,'center_y': 0.42}
            MDLabel:
                text:"Number Of Operation"
                font_size: 18
                size_hint_x:.9
                line_height: .8
                pos_hint: {'center_x': 0.5,'center_y': .32}
                font_name: "Poppins-SemiBold.ttf"
            MDCard:
                elevation: 1.6
                border_radius: 15
                radius: [15]
                size_hint: None, None
                pos_hint: {'center_x': 0.8,'center_y': .52}
                size: 120, 35
                MDGridLayout:
                    cols: 3
                    MDBoxLayout:
                        adaptive_width: True

                        MDIconButton:
                            icon: 'minus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press:app.decrement_counter_one()
                    MDLabel:
                        id: counter_label_one
                        font_style: 'Subtitle2'
                        text: '0'
                        halign: 'center'
                    MDBoxLayout:
                        adaptive_width: True
                        MDIconButton:
                            icon: 'plus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press:app.increment_counter_one()
            MDCard:
                elevation: 1.6
                border_radius: 15
                radius: [15]
                size_hint: None, None
                pos_hint: {'center_x': 0.8,'center_y': .42}
                size: 120, 35
                MDGridLayout:
                    cols: 3
                    MDBoxLayout:
                        adaptive_width: True
                        MDIconButton:
                            icon: 'minus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press:app.decrement_counter_tow()
                    MDLabel:
                        id: counter_label_tow
                        font_style: 'Subtitle2'
                        text: '0'
                        halign: 'center'
                    MDBoxLayout:
                        adaptive_width: True
                        MDIconButton:
                            icon: 'plus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press:app.increment_counter_tow()
            MDCard:
                elevation: 1.6
                border_radius: 15
                radius: [15]
                size_hint: None, None
                pos_hint: {'center_x': 0.8,'center_y': .32}
                size: 120, 35
                MDGridLayout:
                    cols: 3
                    MDBoxLayout:
                        adaptive_width: True
                        MDIconButton:
                            icon: 'minus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press: app.decrement_counter_three()
                    MDLabel:
                        id: counter_label_three
                        font_style: 'Subtitle2'
                        text: '0'
                        halign: 'center'
                    MDBoxLayout:
                        adaptive_width: True
                        MDIconButton:
                            icon: 'plus'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            on_press: app.increment_counter_three()
        MDCard:
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            size_hint: None, None
            size: (dp(400), dp(210))
            radius: [0, 0, 25, 25]
            md_bg_color: "#f0f3f8"
            MDFloatLayout:
                Image:
                    id: score_image
                    source:"image/star.png"
                    size_hint: dp(0.9), dp(0.9)
                    anim_delay: 0.09
                    pos_hint: {'center_x':0.8 ,'center_y': 0.06}
                Image:
                    source:"image/chimpon.png"
                    size_hint:dp(0.15), dp(0.15)
                    pos_hint: {'center_x':0.56 ,'center_y': 0.3}
                MDLabel:
                    text:"Score"
                    theme_text_color:"Custom"
                    text_color:"#000000"
                    font_name:"Poppins-SemiBold.ttf"
                    halign:"center"
                    font_size:20
                    pos_hint: {'center_x':0.27 ,'center_y': 0.45}
                MDLabel:
                    id: score_lable
                    text:"0"
                    theme_text_color:"Custom"
                    text_color:"#000000"
                    font_name:"Poppins-SemiBold.ttf"
                    halign:"center"
                    font_size:30
                    pos_hint: {'center_x':0.12 ,'center_y': 0.45}
                MDLabel:
                    id: slogan
                    text:""
                    theme_text_color:"Custom"
                    text_color:"#000000"
                    font_name:"Poppins-SemiBold.ttf"
                    halign:"center"
                    font_size:10
                    pos_hint: {'center_x':0.12 ,'center_y': 0.13}
                MDBoxLayout:
                    padding: "10dp"
                    radius: [60, 60, 25, 25]
                    size_hint_x:.6
                    size_hint_y:0.11
                    pos_hint: {'center_x':0.3 ,'center_y': 0.24}
                    MDProgressBar:
                        id: progressbar
                        value: 1
                        radius: [dp(25)]
    MDScreen:
        name:"start_count"
        MDBoxLayout:
            md_bg_color:1,1,1,1
        MDLabel:
            id: number_label
            text:"0"
            markup:True
            font_size: "80sp"
            line_height: .8
            halign:"center"
            font_name: "Poppins-SemiBold.ttf"
            text_color: app.theme_cls.primary_color
    MDScreen:
        name: 'user_input'
        MDCard:
            size: dp(400), dp(600)
            md_bg_color:"#F0F0F0"
            MDFloatLayout:
                MDFillRoundFlatIconButton:
                    icon:'check-all'
                    text:'Enter'
                    md_bg_color: "#e3e3ff"
                    pos_hint: {'center_x': 0.5,'center_y': 0.2}
                    icon_size:30
                    theme_text_color:"Custom"
                    text_color:"#4b00c6"
                    line_color: "#F0F0F0"
                    icon_color:"#4b00c6"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.3
                    line_height: .8
                    on_release:app.result_number()
                MDTextField:
                    id: result
                    hint_text:"Enter Result"
                    min__length: 5
                    pos_hint: {"center_x": 0.5, "center_y": 0.42}
                    size_hint_x: .5
                    font_size:20
                    font_name: "Poppins-SemiBold.ttf"
                    halign:"center"
                    theme_text_color:"Custom"
                    background_color:"#FFEBEE"
                    input_filter: lambda text, from_undo: ''.join(filter(lambda x: x.isdigit() or x == '-', text))
                Image:
                    source:"image/sink.png"
                    pos_hint: {"center_x": .5, "center_y": .73}
                    size_hint: dp(0.7), dp(0.7)
    MDScreen:
        name: 'happy_window'
        MDCard:
            size: dp(400), dp(600)
            md_bg_color:"#4b00c6"
            MDFloatLayout:
                MDLabel:
                    text:"You Win!"
                    font_size:22
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.88,'center_y': 0.8}
                Image:
                    source:"image/giphy.gif"
                    allow_stretch: True
                    anim_delay: 0.03
                    size_hint:(0.7),(0.7)
                    # anim_loop: 3
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                MDFillRoundFlatIconButton:
                    icon:'home'
                    text:'Home'
                    md_bg_color: "#F0F0F0"
                    pos_hint: {'center_x': 0.5,'center_y': 0.15}
                    icon_size:30
                    theme_text_color:"Custom"
                    text_color:"#4b00c6"
                    line_color: "#F0F0F0"
                    icon_color:"#4b00c6"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.3
                    line_height: .8
                    on_release:app.home_screen()
    MDScreen:
        name: 'score_window'
        MDCard:
            size: dp(400), dp(600)
            md_bg_color:"#ccffff"
            MDFloatLayout:
                MDLabel:
                    id: lable_score
                    text:" "
                    font_size:22
                    theme_text_color:"Custom"
                    text_color:"#ff9900"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.85,'center_y': 0.82}
                Image:
                    source:"image/win0.png"
                    allow_stretch: True
                    anim_delay: 0.03
                    size_hint:(0.7),(0.7)
                    # anim_loop: 3
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                MDFillRoundFlatIconButton:
                    icon:'home'
                    text:'Home'
                    md_bg_color: "#F0F0F0"
                    pos_hint: {'center_x': 0.5,'center_y': 0.11}
                    icon_size:30
                    theme_text_color:"Custom"
                    text_color:"#ff9900"
                    line_color: "#F0F0F0"
                    icon_color:"#ff9900"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.3
                    line_height: .8
                    on_release:app.home_screen()
    MDScreen:
        name: 'sad'
        MDCard:
            size: dp(400), dp(600)
            md_bg_color:"#4b00c6"
            MDFloatLayout:
                MDIconButton:
                    icon:"information-outline"
                    id: button
                    theme_text_color:"Custom"
                    text_color:"white"
                    pos_hint: {"center_x": .9, "center_y": .9}
                    padding: ('10dp', '10dp')
                    radius:[25]
                    on_press:m.current = "information"
                MDLabel:
                    text:"You lose!"
                    font_size:22
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.88,'center_y': 0.8}
                MDLabel:
                    id:correct_answer
                    text:"The correct answer is!"
                    font_size:15
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.77,'center_y': 0.73}
                Image:
                    source:"image/sad.gif"
                    allow_stretch: True
                    anim_delay: 0.05
                    size_hint:(0.7),(0.7)
                    # anim_loop: 3
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                MDFillRoundFlatIconButton:
                    icon:'home'
                    text:'Home'
                    md_bg_color: "#F0F0F0"
                    pos_hint: {'center_x': 0.5,'center_y': 0.15}
                    icon_size:30
                    theme_text_color:"Custom"
                    text_color:"#4b00c6"
                    line_color: "#F0F0F0"
                    icon_color:"#4b00c6"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.3
                    line_height: .8
                    on_release:app.home_screen()
    MDScreen:
        name: 'information'
        MDCard:
            size: dp(400), dp(600)
            md_bg_color:"#4b00c6"
            MDFloatLayout:
                MDLabel:
                    text:"Do not give up"
                    font_size:20
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.53,'center_y': 0.78}
                    size_hint_x:.40
                MDLabel:
                    id:correct_answer_information
                    text:""
                    font_size:20
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.53,'center_y': 0.32}
                    size_hint_x:.40
                MDLabel:
                    id:correct_answer_label
                    text:""
                    font_size:20
                    theme_text_color:"Custom"
                    text_color:"white"
                    font_name:"Poppins-SemiBold.ttf"
                    pos_hint: {'center_x': 0.5,'center_y': 0.53}
                    size_hint_x:0.5
                    aize_hint_y:1
                MDFillRoundFlatIconButton:
                    icon:'home'
                    text:'Home'
                    md_bg_color: "#F0F0F0"
                    pos_hint: {'center_x': 0.5,'center_y': 0.15}
                    icon_size:30
                    theme_text_color:"Custom"
                    text_color:"#4b00c6"
                    line_color: "#F0F0F0"
                    icon_color:"#4b00c6"
                    font_name: "Poppins-SemiBold.ttf"
                    size_hint_x:.3
                    line_height: .8
                    on_release:app.home_screen()
<CustomSnackbar>
    MDIconButton:
        pos_hint: {'center_y': .5}
        icon: root.icon
        opposite_colors: True

    MDLabel:
        id: text_bar
        size_hint_y: None
        height: self.texture_size[1]
        text: root.text
        font_size: root.font_size
        theme_text_color: 'Custom'
        text_color: 'ffffff'
        shorten: True
        shorten_from: 'right'
        pos_hint: {'center_y': .5}
